import{a as i,d as c}from"./firebase-fKfni47f.js";import{l as n,b as o,e as t,d as u,s as l,a as m}from"./firebase-Biq5-BBI.js";import{e as d}from"./main-CGe7BS40.js";import"./vendor-gzd0YkcT.js";const w="wiLoves",s=a=>m(c,w,String(a)),f=()=>{const a=d("wiSmile"),e=i.currentUser;return e?{uid:e.uid,email:a?.email||e.email||"",usuario:a?.usuario||e.displayName||e.email?.split("@")[0]||"Usuario"}:null},L=async a=>{try{return(await t(s(a))).exists()}catch{return!1}},h=async a=>{try{const e=await t(s(a));return e.exists()?{id:a,...e.data()}:null}catch(e){return console.error("wiLoves.buscar:",e),null}},D=async(a,e)=>{try{const r=f();return r?(await l(s(a),{...e,uid:r.uid,email:r.email,usuario:r.usuario,creado:o(),actualizado:o(),fecha:o()}),console.log(`âœ… Guardado en wiLoves: ${a} - ${r.email}`),a):(console.error("âŒ Usuario no autenticado"),!1)}catch(r){return console.error("wiLoves.guardar:",r),!1}},z=async a=>{try{return await u(s(a)),console.log(`ðŸ—‘ï¸ Eliminado de wiLoves: ${a}`),!0}catch(e){return console.error("wiLoves.eliminar:",e),!1}},b=async(a,e)=>{try{return await n(s(a),{...e,actualizado:o()}),console.log(`ðŸ”„ Actualizado wiLoves: ${a}`),!0}catch(r){return console.error("wiLoves.actualizar:",r),!1}};export{b as actualizar,h as buscar,z as eliminar,L as existe,D as guardar};
