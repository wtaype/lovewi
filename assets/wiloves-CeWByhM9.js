import{g as f}from"./main-DkHKdfdH.js";import{d as t}from"./firebase-DsW769jT.js";import{g as n,d as i,u,i as g,a as y,s as v,b as D,q as x,o as b,w as h,c as q,e as c}from"./firebase-B4Nf_p6C.js";import"./main-CWyf82FG.js";import"./vendor-gzd0YkcT.js";const e="wiLoves",z=async a=>(await n(i(t,e,a))).exists(),S=async({id:a,plantilla:s,nombre:o,de:l,para:m,msg:d,musica:p,emoji:w})=>{const r=f("wiSmile");return!r||await z(a)?null:(await v(i(t,e,a),{plantilla:s,nombre:o,de:l,para:m,msg:d,musica:p||"",emoji:w!==!1,visitas:0,activo:!0,anonimo:!1,uid:r.uid,email:r.email,usuario:r.usuario,creado:c(),actualizado:c()}),a)},T=async a=>{const s=await n(i(t,e,a));return!s.exists()||!s.data().activo?null:(u(i(t,e,a),{visitas:g(1)}).catch(()=>{}),s.data())},k=async a=>a?(await D(x(q(t,e),h("uid","==",a),b("creado","desc")))).docs.map(o=>({id:o.id,...o.data()})):[],L=async(a,s)=>{await u(i(t,e,a),{...s,actualizado:c()})},E=async a=>y(i(t,e,a)),F=(a,s)=>L(a,{activo:s});export{T as buscar,L as editar,E as eliminar,z as existe,S as guardar,k as listar,F as toggleAct};
